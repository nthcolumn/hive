
BASE=/opt/buildroot/buildroot-2010.11-mipsbe/output/staging/usr
ARCH=mips
BUILDTOOLS=$(BASE)/bin
UCLIBC_HEADERS=$(BASE)/include
UCLIBC_LIBS=$(BASE)/lib
CC=${BUILDTOOLS}/${ARCH}-linux-gcc
STRIP=${BUILDTOOLS}/${ARCH}-linux-sstrip

DFLAGS = -DGAPING_SECURITY_HOLE
CFLAGS = -O -W -Wall -Os
#CFLAGS = -O -W -Wall -Os -DDEBUG -DBYPASS

OUTFILE = cryptcat
SRC = twofish.c farm9crypt.c netcat.c

.PHONY:
all:
	$(CC) $(CFLAGS) $(DFLAGS) -I$(UCLIBC_HEADERS) -L$(UCLIBC_LIBS) $(SRC) -o $(OUTFILE) -DLINUX
	$(STRIP) $(OUTFILE)

